"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[773],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>d});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=a.createContext({}),g=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},l=function(e){var n=g(e.components);return a.createElement(u.Provider,{value:n},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},y=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),p=g(t),y=r,d=p["".concat(u,".").concat(y)]||p[y]||c[y]||i;return t?a.createElement(d,s(s({ref:n},l),{},{components:t})):a.createElement(d,s({ref:n},l))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,s=new Array(i);s[0]=y;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o[p]="string"==typeof e?e:r,s[1]=o;for(var g=2;g<i;g++)s[g]=t[g];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}y.displayName="MDXCreateElement"},1004:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>g});var a=t(7462),r=(t(7294),t(3905));const i={sidebar_position:4,description:"Learn how to sign & verify data."},s="Sign and verify a pice of data",o={unversionedId:"usage/keys-management/signing-and-verifying-data",id:"usage/keys-management/signing-and-verifying-data",title:"Sign and verify a pice of data",description:"Learn how to sign & verify data.",source:"@site/docs/usage/keys-management/signing-and-verifying-data.md",sourceDirName:"usage/keys-management",slug:"/usage/keys-management/signing-and-verifying-data",permalink:"/nostr/usage/keys-management/signing-and-verifying-data",draft:!1,editUrl:"https://github.com/anasfik/nostr/tree/main/docs/docs/usage/keys-management/signing-and-verifying-data.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"Learn how to sign & verify data."},sidebar:"tutorialSidebar",previous:{title:"Get a public key from a private key",permalink:"/nostr/usage/keys-management/get-a-public-key-from-private-key"},next:{title:"Create npub & nsec keys",permalink:"/nostr/usage/keys-management/encode-decode-key-pair-keys-to-npub-nsec-formats"}},u={},g=[{value:"Sign Messages",id:"sign-messages",level:2},{value:"Verify Signatures",id:"verify-signatures",level:2}],l={toc:g},p="wrapper";function c(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"sign-and-verify-a-pice-of-data"},"Sign and verify a pice of data"),(0,r.kt)("p",null,"Generating a key pair is not about just generating the private and public keys, it's also about using them to sign and verify data, this is what we will talk about in this section."),(0,r.kt)("p",null,"To sign a message as example or any price of data, you will need to use the ",(0,r.kt)("inlineCode",{parentName:"p"},"sign()")," method on the ",(0,r.kt)("inlineCode",{parentName:"p"},"NostrKeyPair")," object, which will return a ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," that represents the signature of the message. Then, if you want to verify that or any other signature, you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"verify()")," method, which will return a ",(0,r.kt)("inlineCode",{parentName:"p"},"bool")," that indicates if the signature belongs to the user keys or not, Example:"),(0,r.kt)("h2",{id:"sign-messages"},"Sign Messages"),(0,r.kt)("p",null,"You can sign any message you want, using the ",(0,r.kt)("inlineCode",{parentName:"p"},"sign")," method of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Nostr.instance.keysService"),", like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},'\n// The message to sign.\nString message = "something, IDK";\n\n// The signature of the message.\nString signature = Nostr.instance.keysService.sign(\n  privateKey: "THE_PRIVATE_KEY_HEX_STRING",\n  message: message,\n);\n\n// Use the signature as you want.\nprint(signature); // ...\n\n//...\n')),(0,r.kt)("p",null,"This will provide you withe a signature of that data that you can use to verify its ownership later."),(0,r.kt)("h2",{id:"verify-signatures"},"Verify Signatures"),(0,r.kt)("p",null,"You can verify any signature you want, using the ",(0,r.kt)("inlineCode",{parentName:"p"},"verify")," method of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Nostr.instance.keysService"),", like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},'\n// Later, when we get a signature from any source, we can verify it.\nbool isSignatureVerified = Nostr.instance.keysService.verify(\n  publicKey: "THE_PUBLIC_KEY_HEX_STRING",\n  message: message,\n  signature: signature,\n);\n\n// Use the verification result as you want.\nprint(isSignatureVerified ); // ...\n')),(0,r.kt)("p",null,"This will provide you with a ",(0,r.kt)("inlineCode",{parentName:"p"},"bool")," that indicates if the signature belongs to the user keys or not."))}c.isMDXComponent=!0}}]);